<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">


    <h:head>
        <title>Analisis Precio Unitario</title>
        <style type="text/css">
            html{
                height: 100%;
            }
            body{
                height: 80%;
            }
        </style>
    </h:head>
    <body>
       
            <ui:composition template="./../menuTemplate.xhtml">
                <ui:define name="content">
                  
                     
                    <p:tabView>
                        <p:tab title="Analisis Precio Unitario" closable="true">
                            <h:form id="Rubros">
                                <p:outputLabel value="Seleccione el rubro:" />
                                <p:selectOneMenu value="#">  
                                    <f:selectItem itemLabel="-- Seleccione --" itemValue="" />  
                                    <f:selectItems value="#" />  
                                </p:selectOneMenu> 
                            </h:form>
                            <br></br>
                            <FIELDSET  style="-moz-border-radius:10px; width: 850px; "  class="borderFieldSet">
                                <legend>Rubro</legend>
                                <h:form id="cargar_cabecera" >
                                    <h:panelGrid columns="2" cellpadding="4" >
                                        <h:panelGrid columns="2" cellpadding="3" >
                                            <p:outputLabel value="Codigo:"/>
                                            <p:inputText value="" id="codigo" size="10"/>
                                            <p:outputLabel value="Descripcion:"/>
                                            <p:inputText value="" id="propietario" size="20"/>
                                            
                                         </h:panelGrid>
                                        <h:panelGrid columns="2" cellpadding="3" >
                                            <p:outputLabel value="Unidad:" />
                                            <p:inputText value="" id="contratista" size="20"/>
                                            <p:outputLabel value="Categoria:" />
                                            <p:inputText value="" id="obra" size="25"/>   
                                        </h:panelGrid>
                                        <p:commandButton id="btnCrearRubro" value="Crear Rubro"/>
                                        <p:commandButton id="btnModRubro" value="Actualizar Rubro"/>   
                                    </h:panelGrid>
                                </h:form>
                            </FIELDSET>
                            <br></br>
       <!--aumento de dialogo para crear equipos y herramientas-->
                  <h:form id="formCrearEquipoh">
                       <p:growl id="mensajeGeneral" showDetail="true"/>
                    <p:dialog header="Equipos y Herramientas" widgetVar="dialogEquipoh" resizable="false" id="dialogEquipoh"  
                              showEffect="fade" hideEffect="explode" modal="true"  >
                        <p:dataTable value="#{equipoherramientaBean.listaEquipoHerramienta}" var="item"  scrollable="true" scrollHeight="100"
                                     style="width:650px ">
                        <p:column headerText="Codigo">
                            <h:outputText value="#{item.codigoEqherr}"/>
                        </p:column>
                        <p:column headerText="NOMBRE" >
                            <h:outputText value="#{item.nombreEqherr}"/>
                        </p:column>
                        <p:column headerText="Costo Hora">
                            <h:outputText value="#{item.costohoraEqherr}"/>
                        </p:column>
                        <p:column headerText="Categoria">
                            <h:outputText value="#{item.categoriaequipoherramienta.nombCatEqherr}"/>
                        </p:column>
                        <p:column>
                            <p:commandButton value="Seleccionar"  actionListener="#{ApuBeanVista.agregarListaEquiposApus(item.codigoEqherr)}"
                                            />
                        </p:column>
                    </p:dataTable>
                    </p:dialog>
                </h:form>  
          <!--fin de dialogo para crear equipos y herramientas-->               
                        
        <FIELDSET style="-moz-border-radius:10px;background-color: #EEEEEE;
                                      width: 850px;" class="borderFieldSet">
                                
                 <legend>Equipo y Herramientas</legend>
                  <h:form id="frmRealizarVentas">
                    <p:growl id="mensajeGeneral" showDetail="true"/>
                   <p:dataTable id="tablaListaProductosVenta" value="#{ApuBeanVista.listaEquiposApus}" var="item" scrollable="true" scrollHeight="100">
                                     <p:column headerText="NOMBRE" style="text-align: left;">
                    <h:outputText value="#{item.descEqherrApu}"/>
                </p:column>
                <p:column headerText="Costo Hora" style="text-align: center;">
                    <h:outputText value="#{item.costohoraEqherrApu}"/>
                </p:column>
                <p:column headerText="Cantidad" style="text-align: center;">
                    <p:inputText value="#{item.cantEqherrApu}" style="text-align: center;" />                    
                </p:column>
                     <p:column headerText="Rendimiento" style="text-align: center;">
                         <p:inputText value="#{item.rendimEqherrApu}" style="text-align: center;" />                    
                </p:column>
                     <p:column headerText="Tarifa" style="text-align: center;">
                         <p:inputText value="#{item.tarifaEqherrApu}" style="text-align: center;" />                    
                </p:column>
                <p:column headerText="Total" style="text-align: center;">
                    S./ 
                    <h:outputText value="#{item.costotEqherrApu}"/>
                </p:column>
                <p:column style="text-align: center;">
                    <p:commandButton value="Retirar de la lista" ajax="true" actionListener="#{ApuBeanVista.EliminarListaEquipo(item.descEqherrApu)}"/>
                </p:column>
                                    
                  </p:dataTable>
                                    
                                <br></br>
                                <h:panelGrid columns="2" style="float:right" cellpadding="3" >
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:form>
                                    <p:commandButton id="btnAgregarEH"  oncomplete="dialogEquipoh.show()" value="Agregar"/>
                                   
                                    <p:commandButton id="btnCalcularSubTEH"  title="" value="Calcular"/>
                                    </h:form>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:outputText value="Subtotal Equipos y Herramientas"/>
                                    <h:outputText value="$$$$"/>  
                                    </h:panelGrid>
                               </h:panelGrid>
                                </h:form>
                            </FIELDSET>
                            <br></br>

                            <FIELDSET style="-moz-border-radius:10px;background-color: #EEEEEE;
                                      width: 850px;" class="borderFieldSet">
                                <legend>Materiales</legend>
                                <h:form>
                                <p:dataTable value="" var="material" >
                                    <p:column headerText="#" style="text-align: center;">
                                    </p:column>
                                    <p:column headerText="Codigo" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Descripcion" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Unidad" style="text-align: center;">
                                            <h:outputText value=""/>
                                    </p:column>
                                    <p:column headerText="Cantidad" style="text-align: center;">
                                            <p:inputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Unitario" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Total" style="text-align: center;">
                                        <h:outputText value="" />
                                    </p:column>
                                </p:dataTable>
                                <br></br>
                                <h:panelGrid columns="2" style="float:right" cellpadding="3" >
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:form>
                                    <p:commandButton id="btnAgregarM" title="" value="Agregar"/>
                                    </h:form>
                                    <h:form>
                                    <p:commandButton id="btnCalcularSubTM" title="" value="Calcular"/>
                                    </h:form>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:outputText value="Subtotal Material"/>
                                    <h:outputText value="$$$$"/>  
                                    </h:panelGrid>
                               </h:panelGrid>
                                </h:form>>
                            </FIELDSET>
                            <br></br>

                            <FIELDSET style="-moz-border-radius:10px;background-color: #EEEEEE;
                                      width: 850px;" class="borderFieldSet">
                                <legend>Mano de Obra</legend>
                                <h:form>
                                <p:dataTable value="" var="manoobra" >
                                    <p:column headerText="#" style="text-align: center;">
                                    </p:column>
                                    <p:column headerText="Codigo" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Descripcion" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Unidad" style="text-align: center;">
                                            <h:outputText value=""/>
                                    </p:column>
                                    <p:column headerText="Cantidad" style="text-align: center;">
                                            <p:inputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Unitario" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Rendimiento" style="text-align: center;">
                                            <p:inputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Total" style="text-align: center;">
                                        <h:outputText value="" />
                                    </p:column>
                                </p:dataTable>
                                <br></br>
                                <h:panelGrid columns="2" style="float:right" cellpadding="3" >
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:form>
                                    <p:commandButton id="btnAgregarMO" title="" value="Agregar"/>
                                    </h:form>
                                    <h:form>
                                    <p:commandButton id="btnCalcularSubTMO" title="" value="Calcular"/>
                                    </h:form>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:outputText value="Subtotal Mano de Obra"/>
                                    <h:outputText value="$$$$"/>  
                                    </h:panelGrid>
                               </h:panelGrid>
                                </h:form>
                            </FIELDSET>

                            <br></br>

                            <FIELDSET style="-moz-border-radius:10px;background-color: #EEEEEE;
                                      width: 850px; " class="borderFieldSet">
                                <legend>Transporte</legend>
                                <h:form>
                                <p:dataTable value="" var="transporte" >
                                    <p:column headerText="#" style="text-align: center;">
                                    </p:column>
                                    <p:column headerText="Codigo" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Descripcion" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Unidad" style="text-align: center;">
                                            <h:outputText value=""/>
                                    </p:column>
                                    <p:column headerText="Cantidad" style="text-align: center;">
                                            <p:inputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Unitario" style="text-align: center;">
                                            <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="Precio Total" style="text-align: center;">
                                        <h:outputText value="" />
                                    </p:column>
                                </p:dataTable>
                                <br></br>
                                <h:panelGrid columns="2" style="float:right" cellpadding="3" >
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:form>
                                    <p:commandButton id="btnAgregarT" title="" value="Agregar"/>
                                    </h:form>
                                    <h:form>
                                    <p:commandButton id="btnCalcularSubTT" title="" value="Calcular"/>
                                    </h:form>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="3" >
                                    <h:outputText value="Subtotal Equipos y Herramientas"/>
                                    <h:outputText value="$$$$"/>  
                                    </h:panelGrid>
                               </h:panelGrid>
                                </h:form>>
                            </FIELDSET>
                            <br></br>
                            <fieldset style="-moz-border-radius:10px;background-color: #EEEEEE;
                                      width: 350px ;float: right;">
                                <legend>Costo Rubro</legend>
                                <h:form id="cargar_coto_rubro" >
                                    <h:panelGrid columns="2" cellpadding="4" style="float:right" border="2">
                                        <p:outputLabel value="Costo Directo (EH+M+MO+T):" for="costodirecto" />
                                        <p:inputText value="" id="costodirecto" size="10"/>
                                        <p:outputLabel value="Costo Indirecto y Utilidades:" for="costoindirecto" />
                                        <p:inputText value="" id="costoindirecto" size="10"/>
                                        <p:outputLabel value="Otros Costos Indirectos:" for="otrocostodirecto" />
                                        <p:inputText value="" id="otrocostodirecto" size="10"/>
                                        <p:outputLabel value="Total Costo Rubro:" for="totalcostorubro" />
                                        <p:inputText value="" id="totalcostorubro" size="10"/>
                                        <p:outputLabel value="Valor Ofertado:" for="valorofertado" />
                                        <p:inputText value="" id="valorofertado" size="10"/>
                                    </h:panelGrid>
                                </h:form>
                            </fieldset>
                            
                        </p:tab>
                    </p:tabView>
                </ui:define>
            </ui:composition>
  
    </body>
</html>
